<div class="p-6">
  <h2 class="text-2xl font-bold text-gray-800 mb-4">User Management</h2>

  <!-- Button to open Add User Modal -->
  <button (click)="openModal()"
    class="mb-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg">
    + Add User
  </button>

  <!-- Users Table -->
  <div class="overflow-x-auto bg-white shadow-md rounded-lg">
    <table class="w-full text-left border-collapse">
      <thead>
        <tr class="bg-blue-600 text-white">
          <th class="p-3">Username</th>
          <th class="p-3">Role</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users" class="border-b hover:bg-gray-100">
          <td class="p-3">{{ user.username }}</td>
          <td class="p-3">{{ user.roles.join(', ') }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Add User Modal -->
  <div *ngIf="showModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
    <div class="bg-white p-6 rounded-lg shadow-xl w-96">
      <h3 class="text-xl font-bold mb-4">Add New User</h3>

      <label class="block text-sm font-medium text-gray-700">Username</label>
      <input type="text" [(ngModel)]="newUser.username"
        class="w-full p-2 border rounded-md focus:ring focus:ring-blue-300 mb-2" />

      <label class="block text-sm font-medium text-gray-700">Password</label>
      <input type="password" [(ngModel)]="newUser.password"
        class="w-full p-2 border rounded-md focus:ring focus:ring-blue-300 mb-2" />

      <label class="block text-sm font-medium text-gray-700">Role</label>
      <select [(ngModel)]="newUser.roles"
        class="w-full p-2 border rounded-md focus:ring focus:ring-blue-300 mb-4">
        <option value="Super Admin">Super Admin</option>
        <option value="Admin">Admin</option>
        <option value="User">User</option>
      </select>

      <p *ngIf="errorMessage" class="text-red-500 text-sm">{{ errorMessage }}</p>

      <div class="flex justify-end">
        <button (click)="closeModal()" class="px-4 py-2 mr-2 text-gray-700 bg-gray-300 rounded-lg">Cancel</button>
        <button (click)="registerUser()" class="px-4 py-2 text-white bg-green-600 rounded-lg hover:bg-green-700">
          Register
        </button>
      </div>
    </div>
  </div>
</div>
